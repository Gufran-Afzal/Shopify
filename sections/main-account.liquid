{%- liquid
  assign section_prefix_class = 'main-account'
  assign section_scheme_class = section.settings.section_color_scheme | prepend: 'scheme scheme--'
-%}
{%- style -%}
  .breadcrumb-nav{
    padding-top: 0;
    padding-bottom: 0;
  }

  .breadcrumb-nav.--bdr-bottom{
    border-bottom: 1px solid var(--section-widget-border-color);
  }

  .breadcrumb_wrapper{
    padding-top: 21px;
    padding-bottom: 21px;
  }

  .breadcrumb-list,
  .breadcrumb-list_item{
    display: flex;
  }

  .breadcrumb-list{
    flex-wrap: wrap;
    width: 100%;
    font-size: 1.4rem;
    line-height: 2rem;
  }

  .breadcrumb-list_item + .breadcrumb-list_item::before{
    content: '';
    border-bottom: 1px solid var(--section-border-color);
    width: 2rem;
    display: inline-block;
    margin-left: 11px;
    margin-right: 11px;
  }

  .breadcrumb-list [aria-current="page"]{
    color: var(--heading-color);
    font-weight: 500;
  }

  .breadcrumb-list_link{
    text-decoration: none;
    transition: color 0.3s ease;
    font-size: 1.2rem;
    font-weight: 400;
  }

  .pagination-wrapper{
    padding-left: var(--cp-spacer-left, 15px);
    padding-right: var(--cp-spacer-right, 15px);
  }

  .pagination_list {
    flex-wrap: wrap;
    gap: 6px;
  }

  .pagination_next-pg{
    margin-right: 9.6px;
  }

  .pagination_back-pg{
    margin-left: 9.6px;
  }

  .pagination_item{
    border: 1px solid var(--section-border-color);
    border-radius: 4px;
  }

  .pagination_link {
    text-decoration: none;
    font-size: 1.4rem;
    font-weight: 400;
    line-height: 2rem;
    transition: color 0.35s ease;
    padding: 0.5rem 1rem;
    display: block;
  }

  a.pagination_link--active{
    background-color: var(--section-active-hover-color);
    color: var(--section-background-color);
  }

  .pagination-wrapper{
    margin-top: 47px;
  }

  .pagination-wrapper,
  .pagination,
  .pagination_list{
    display: flex;
    width: 100%;
    justify-content: center;
  }

  .load-more_button{
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .load-more_loader{
    line-height: 1rem;
  }

  .account-header,
  .main-order .account-content_link{
    font-size: 1.8rem;
  }

  .account-header{
    border-bottom: 1px solid var(--section-border-color);
  }

  .account-header_list,
  .account-header_wrapper,
  .main-order .account-info-widget,
  .main-account .account-content_wrapper,
  .account-header .account-header_btn,
  .main-order .account-content_link,
  .main-order .account-content_foot,
  .main-order .account-info-widget_status-wrap,
  .main-order .account-content_aside-widgets,
  .main-order .order-item_discount-list,
  .main-order .order-item_propterties-title,
  .main-order .order-item_fulfillment-wrapper,
  .main-order .order-item_discount-item,
  .main-order .order-item_propterties-list{
    display: flex;
  }

  .account-header_list,
  .account-header_wrapper,
  .main-account .account-content_wrapper,
  .main-order .account-content_aside-widgets,
  .main-order .order-item_discount-list{
    flex-wrap: wrap;
  }

  .account-header_list,
  .account-header_wrapper,
  .account-header .account-header_btn,
  .main-order .account-content_link,
  .main-order .account-content_aside-widgets{
    gap: 20px;
  }

  .account-header_list,
  .account-header_wrapper,
  .account-header .account-header_btn,
  .main-order .account-content_link,
  .main-order .account-info-widget_status-wrap,
  .main-order .order-item_propterties-title,
  .main-order .order-item_fulfillment-wrapper,
  .main-order .order-item_discount-item,
  .main-order .order-item_propterties-list{
    align-items: center;
  }

  .account-header_wrapper{
    justify-content: space-between;
    padding-bottom: 27px;
  }

  .account-header_link,
  .account-table_status-label,
  .account-header .account-header_btn{
    text-decoration: none;
  }

  .account-header_link,
  .account-table thead th,
  .account-table td,
  .account-table th,
  .main-order .account-table,
  .main-order .account-content_table-wrapper,
  .main-order .account-table_status-label,
  .account-header .account-header_btn{
    font-size: 1.6rem;
  }

  .account-header_link,
  .account-table thead th,
  .account-header .account-header_btn,
  .main-order .account-info-widget_status-wrap,
  .main-order .account-table .regular-price{
    line-height: 1.8rem;
  }

  .account-header_link{
    transition: color 0.3s ease;
    display: block;
  }

  .account-header_btn,
  .account-header_link{
    padding: 3px;
  }

  .account-content_table-wrapper{
    overflow-x: auto;
  }

  .main-account .account-table{
    min-width: 820px;
  }

  .main-order .account-table{
    min-width: 980px;
  }

  .account-table thead th,
  .account-info-widget,
  .main-order .account-table tfoot{
    background-color: var(--section-widget-background-color);
    color: var(--section-widget-heading-color);
  }

  .account-table thead th{
    border: none;
  }

  .account-table td,
  .account-table th{
    line-height: 2.2rem;
    text-align: left;
    padding-top: 21px;
    padding-bottom: 21px;
  }

  .main-account .account-table tbody tr:last-child td{
    border-bottom: 0;
  }

  .account-table tbody td:nth-child(1) {
    width: 150px;
  }

  .account-content{
    padding-top: 40px;
  }

  .account-content_heading{
    --mt-bottom: 34px;
  }

  .main-account a.account-table_status-label:focus-visible{
    --focus-outline-offset: 2px;
  }

  .account-table,
  .account-content_table-wrapper,
  .account-table_status-label,
  .account-info-widget,
  .main-order .order-item_propterties-title,
  .main-order .order-item_fulfillment-wrapper,
  .main-order .order-item_discount-item,
  .main-order .order-item_propterties-list{
    border-radius: var(--section-radius);
  }

  .account-table,
  .account-table_status-label,
  .main-order .order-item_propterties-title,
  .main-order .order-item_fulfillment-wrapper,
  .main-order .order-item_discount-item,
  .main-order .order-item_propterties-list{
    padding: 5px 10px;
  }

  .account-table_status-label{
    border: 1px solid transparent;
  }

  .main-account .account-table_status-label,
  .main-order .account-table_status-label--default,
  .main-order .order-item_propterties-title,
  .main-order .order-item_fulfillment-wrapper{
    display: inline-block;
  }

  .main-account .account-table_status-label,
  .main-order .account-header .account-header_btn,
  .main-order .account-content_link{
    transition: color .3s ease;
  }

  .account-table_status-label--default{
    background-color: transparent;
    border-color: var(--section-border-color);
  }

  .account-table_status-label--success,
  .account-table_status-label--error,
  .main-order .order-item_propterties-title,
  .main-order .order-item_fulfillment-wrapper,
  .main-order .order-item_discount-item,
  .main-order .order-item_propterties-list{
    color: var(--section-background-color);
    background-color: var(--section-foreground-color);
    border-color: var(--section-foreground-color);
  }

  .account-info-widget_heading {
    color: var(--section-widget-heading-color);
  }

  .main-account .account-info-widget{
    padding: 20px;
  }

  .main-order .account-info-widget{
    padding: 16px;
    width: calc(100% - 10px);
    flex-direction: column;
  }

  .main-addresses .account-info-widget,
  .account-content_col--description,
  .main-account .account-content_col--info{
    width: 100%;
  }

  .main-addresses .account-info-widget{
    padding: 64px 36px;
    position: relative;
  }

  .main-account .account-content_wrapper{
    gap: 16px;
  }

  .main-account .account-content_col--info,
  .main-order .order-item_discount-item > .ico{
    flex-shrink: 0;
  }

  .account-info-widget_description{
    font-style: normal;
    margin-top: 26px;
  }

  .main-order .account-table thead th:first-child,
  .main-order .account-table tbody td:first-child{
    width: 40%;
  }

  .main-order .account-table thead th,
  .main-order .account-table tbody td{
    width: 15%;
  }

  .main-order .account-table thead th, .main-order .account-table tfoot th, .main-order .account-table tfoot td{
    border: 0;
  }

  .main-order .account-table tfoot th, .main-order .account-table tfoot td{
    padding-bottom: 0;
  }

  .main-order .account-table .order-item_price dd,
  .main-order .account-table .order-item_final-price dd{
    margin-left: 0;
  }

  .main-order .account-table tfoot td,
  .main-order .account-table tfoot tr td,
  .main-order .account-table thead th:last-child,
  .main-order .account-table tbody tr td:last-child{
    text-align: right;
  }

  .main-order .account-table tfoot tr:last-child th,
  .main-order .account-table tfoot tr:last-child td{
    font-size: 2rem;
    text-decoration: underline;
    padding-bottom: 20px;
  }

  .main-order .account-content_foot{
    margin-bottom: 20px;
  }

  .main-order .account-info-widget_status-wrap,
  .main-order .account-table .regular-price{
    font-size: 1.4rem;
  }

  .main-order .account-info-widget_status-wrap,
  .main-order .order-item_discount-list{
    gap: 12px;
  }

  .main-order .account-info-widget_status-wrap{
    margin-top: 22px;
  }

  .main-order .account-table .order-item_final-price{
    margin: 0;
  }

  .main-order .account-content_aside-widgets{
    gap: 20px;
    margin-top: 30px;
  }

  .main-order .account-info-widget_top-wrap{
    flex-grow: 1;
  }

  .main-order .account-table .order-item{
    line-height: 2rem;
  }

  .main-order .order-item_propterties-title,
  .main-order .order-item_fulfillment-wrapper,
  .main-order .order-item_discount-item,
  .main-order .order-item_propterties-list{
    margin-top: 11px;
    gap: 11px;
  }

  .main-order .order-item_propterties-title{
    vertical-align: top;
  }

  .main-order .order-item_propterties-text{
    margin-left: 5px;
  }

  .main-order .order-item_propterties-wrapper,
  .main-order .account-content_foot{
    margin-top: 20px;
  }

  .main-order .order-item_fulfillment-link:hover,
  .main-order .order-item_propterties-subtext:hover{
    text-decoration-thickness: 4px;
    color: var(--section-background-color);
  }

  .main-order .order-item_propterties-subtext,
  .main-order .order-item_fulfillment-link{
    color: inherit;
  }

  .main-order .widget--styles .order-item_fulfillment-link:focus-visible{
    --focus-outline-color: var(--section-background-color);
  }

  @media (min-width: 576px){
    .pagination_link {
      padding: 0.8rem 1.2rem;
    }

    .main-order .account-info-widget{
      width: calc(100% - 10px);
    }

    .main-order .account-content_aside-widgets{
      flex-wrap: nowrap;
    }

    .account-header_list,
    .account-header_wrapper{
      gap: 22px;
    }

    .account-header_link,
    .account-header .account-header_btn{
      font-size: 1.8rem;
      line-height: 2rem;
    }
  }

  @media (min-width: 768px){
    .main-account .account-content_col--info{
      width: calc(40% - 8px);
    }

    .main-account .account-content_wrapper{
      flex-wrap: nowrap;
    }

    .main-order .account-info-widget{
      padding: 36px;
    } 
  }


  @media (min-width: 992px){
    .pagination-wrapper{
      margin-top: 78px;
    }

    .main-account .account-content_col--info{
      width: calc(25% - 8px);
    }

    .main-account .account-content_col--description{
      width: 75%;
    }

    .account-table_heading{
      display: none;
    }

    .main-order .account-content_wrapper{
      flex-wrap: nowrap;
    }

    .main-order .account-content_col--info{
      width: calc(25% - 8px);
      flex-shrink: 0;
    }

    .main-order .account-content_col--description{
      flex-grow: 1;
    }
  }

  @media (max-width: 991px){
    .main-account .account-table{
      min-width: 1px;
    }

    .main-account .account-table,
    .main-order .account-table{
      padding: 0;
    }

    .main-account .account-table,
    .account-table tbody td,
    .account-table tbody td, 
    .account-table tbody td:nth-child(1),
    .main-order .account-table tbody td, 
    .main-order .account-table tbody td:nth-child(1){
      width: 100%;
    }

    .main-order .account-table{
      min-width: 100%;
    }

    .account-table,
    .account-table tbody, 
    .account-table th, 
    .account-table td, 
    .account-table tr,
    .main-order .account-table tfoot{
      display: block;
    }

    .account-table thead{
      display: none;
    }

    .account-table tbody {
      position: relative;
    }

    .main-account .account-table tbody td,
    .main-order .account-table tbody td,
    .main-order .account-table tfoot tr {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .account-table tbody td,
    .account-table tfoot tr{
      text-align: right;
    }

    .account-table tbody td {
      overflow: hidden;
    }

    .account-table tbody tr + tr{
      border-top: 1px solid ;
      border-color: var(--section-border-color);
    }

    .account-table_heading,
    .order-item_title-wrapper,
    .main-order .order-item_fulfillment-wrapper,
    .main-order .order-item_title-wrapper{
      flex-shrink: 0;
    }

    .account-table_heading {
      width: 200px;
    }

    .account-table_heading,
    .main-order .account-table tbody tr td:last-child, .order-item_title-wrapper{
      text-align: left;
    }

    .account-table tbody th, 
    .account-table tbody td {
      border: 0;
    }

    .account-table tbody th, 
    .account-table tbody td {
      padding: 10px 15px;
    }

    .main-order .account-table tfoot th,
    .main-order .account-table tfoot td{
      padding: 20px 15px 0 15px;
    }

    .main-order .account-table tfoot{
      border-top: 1px solid;
      border-color: var(--section-border-color);
    }

    .main-order .account-table tbody td:nth-child(1){
      gap: 10px;
    }

    .order-item_title-wrapper,
    .main-order .order-item_title-wrapper {
      max-width: 50%;
    }

    .main-order .order-item_fulfillment-wrapper{
      text-align: center;
    }
  }

  @media (max-width: 575px){
    .main-order .account-table tbody td:first-child{
      flex-direction: column;
    }

    .main-order .account-table_heading{
      width: 140px;
    }

    .main-order .account-info-widget {
      width: 100%;
    }

    .main-order .order-item_title-wrapper {
      max-width: 100%;
    }

    .main-order .order-item_discount-item{
      text-align: center;
    }
  }

  @media (max-width: 413px){
    .main-account .account-table td {
      font-size: 1.4rem;
    }

    .main-account .account-table_heading{
      width: 140px;
    }
  }
{%- endstyle -%}
{%- liquid
  if section.settings.show_breadcrumb
    render 'breadcrumb', border_top: section.settings.show_top_bdr, border_bottom: section.settings.show_bottom_bdr, color_scheme: section.settings.breadcrumb_color_scheme
  endif
-%}
<svg xmlns="http://www.w3.org/2000/svg" class="hidden">
  <symbol id="icn-left-pg-{{ section.id }}">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.73289 0.397026C4.96257 0.635889 4.95512 1.01572 4.71626 1.24539L1.56605 4.21289L4.71625 7.18039C4.95512 7.41007 4.96257 7.78989 4.73289 8.02876C4.50321 8.26762 4.12339 8.27507 3.88452 8.04539L0.284524 4.64539C0.166877 4.53227 0.100389 4.3761 0.100389 4.21289C0.100389 4.04968 0.166877 3.89351 0.284524 3.78039L3.88452 0.380391C4.12339 0.150715 4.50321 0.158163 4.73289 0.397026Z" fill="currentColor"/>
  </symbol>
  <symbol id="icn-right-pg-{{ section.id }}">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.26711 8.02876C0.0374343 7.78989 0.0448818 7.41007 0.283745 7.18039L3.43395 4.21289L0.283745 1.24539C0.0448814 1.01571 0.0374339 0.635888 0.26711 0.397025C0.496786 0.158162 0.876612 0.150714 1.11548 0.38039L4.71548 3.78039C4.83312 3.89351 4.89961 4.04968 4.89961 4.21289C4.89961 4.3761 4.83312 4.53227 4.71548 4.64539L1.11548 8.04539C0.876612 8.27507 0.496786 8.26762 0.26711 8.02876Z" fill="currentColor"/>
  </symbol>
</svg>
<div class="global-block {{ section_prefix_class }} {{ section_prefix_class }}-{{ section.id }} {{ section_scheme_class }}">
  <div class="{{ section_prefix_class }}_wrapper">
    <header class="account-header">
      <div class="container">
        <div class="account-header_wrapper">
          <ul class="list-unstyled account-header_list">
            <li>
              <a href="{{- routes.account_url -}}" class="account-header_link active">
                {{- 'account.header.order_history' | t -}}
              </a>
            </li>
            <li>
              <a href="{{- routes.account_addresses_url -}}" class="account-header_link">
                {{- 'account.header.addresses' | t -}}
              </a>
            </li>
          </ul>
          <a href="{{- routes.account_logout_url -}}" class="account-header_btn">
            {{- 'customer.logout_label' | t -}}
          </a>
        </div>
      </div>
    </header>
    <div class="account-content">
      <div class="container">
        <h1 class="h5 mty account-content_heading">
          {{- 'account.header.heading' | t -}}
        </h1>
        <div class="account-content_wrapper">
          <div class="account-content_col account-content_col--description">
            {% paginate customer.orders by 20 %}
              {%- if customer.orders.size > 0 -%}
                <div class="account-content_table-wrapper">
                  <table class="account-table">
                    <caption class="visually-hidden">
                      {{- 'account.header.heading' | t -}}
                    </caption>
                    <thead>
                      <tr>
                        <th>{{- 'customer.main.order_label' | t -}}</th>
                        <th>{{- 'customer.main.date_label' | t -}}</th>
                        <th>{{- 'customer.main.pay_status_label' | t -}}</th>
                        <th>{{- 'customer.main.fillment_status_label' | t -}}</th>
                        <th>{{- 'customer.main.total_label' | t -}}</th>
                      </tr>
                    </thead>
                    <tbody>
                      {%- for order in customer.orders -%}
                        <tr>
                          <td>
                            <span class="account-table_heading">
                              {{- 'customer.main.order_label' | t -}}
                            </span>
                            <a href="{{- order.customer_url -}}" class="account-table_status-label account-table_status-label--default --word-break">
                              {{- order.name -}}
                            </a>
                          </td>
                          <td>
                            <span class="account-table_heading">
                              {{- 'customer.main.date_label' | t -}}
                            </span>
                            <span class="--word-break">
                              {{- order.created_at | time_tag: format: 'date' -}}
                            </span>
                          </td>
                          <td>
                            <span class="account-table_heading">
                              {{- 'customer.main.pay_status_label' | t -}}
                            </span>
                            <span class="account-table_status-label {% if order.financial_status_label == 'Paid' %}account-table_status-label--success{% else %}account-table_status-label--error{% endif %}">
                              {{- order.financial_status_label -}}
                            </span>
                          </td>
                          <td>
                            <span class="account-table_heading">
                              {{- 'customer.main.fillment_status_label' | t -}}
                            </span>
                            <span class="account-table_status-label {% if order.fulfillment_status_label == 'Paid' %}account-table_status-label--success{% else %}account-table_status-label--error{% endif %}">
                              {{- order.fulfillment_status_label -}}
                            </span>
                          </td>
                          <td>
                            <span class="account-table_heading">
                              {{- 'customer.main.total_label' | t -}}
                            </span>
                            <span class="--word-break">
                              {{- order.total_net_amount | money_with_currency -}}
                            </span>
                          </td>
                        </tr>
                      {%- endfor -%}
                    </tbody>
                  </table>
                </div>
                {%- else -%}
                  <div class="myt account-content_empty text-size--large">
                    <p>{{- 'customer.main.no_orders' | t -}}</p>
                  </div>
              {%- endif -%}
              {%- render 'pagination', prefix_class: section_prefix_class, section_id: section.id -%}
            {% endpaginate %}
          </div>
          {%- if customer.default_address -%}
            <aside class="account-content_col account-content_col--info">
              <div class="account-info-widget">
                <h2 class="h6 account-info-widget_heading --word-break mty">
                  {{- 'customer.main.billing_address' | t -}}
                </h2>
                <address class="text-size--medium account-info-widget_description --word-break mty">
                  {{- customer.default_address | format_address -}}
                </address>
              </div>
            </aside>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</div>
{% schema %}
{
  "name": "t:sections.main_account.name",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "t:breadcrumb.content"
    },
    {
      "type": "checkbox",
      "id": "show_breadcrumb",
      "label": "t:breadcrumb.label",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_top_bdr",
      "label": "t:top_bdr.label",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_bottom_bdr",
      "label": "t:bottom_bdr.label",
      "default": true
    },
    {
      "type": "color_scheme",
      "id": "breadcrumb_color_scheme",
      "default": "scheme2",
      "label": "t:color_scheme.label"
    },
    {
      "type": "header",
      "content": "t:settings_schema.layout.name"
    },
    {
      "type": "color_scheme",
      "id": "section_color_scheme",
      "default": "scheme1",
      "label": "t:settings_schema.color_schemes.name"
    }
  ]
}
{% endschema %}